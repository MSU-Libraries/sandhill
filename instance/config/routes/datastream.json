{
    "route": [
        "/<string:namespace>/<int:id>/<string:label>/<string:action>",
        "/<string:namespace>:<int:id>/<string:label>/<string:action>"
    ],
    "data": [
        {
            "processor": "solr.select_record",
            "name": "item",
            "on_fail": 404,
            "params": {
                "q": "PID:\"{{ view_args.namespace }}:{{ view_args.id }}\"",
                "wt": "json"
            }
        },
        {
            "processor": "evaluate.template",
            "name": "datastream_label",
            "value": "{{ view_args.label }}",
            "on_fail": 500
        },
        {
            "name": "embargo",
            "processor": "file.load_json",
            "on_fail": 501,
            "paths":
            [
                "config/restrictions/embargo.json"
            ]
        },
        {
            "name": "restriction",
            "processor": "evaluate.conditions",
            "on_fail": 403,
            "conditions": "embargo.restriction_conditions",
            "match_all": true,
            "abort_on_match": true
        },
        {
            "processor": "fedora3.load_datastream",
            "name": "datastream"
        },
        {
            "processor": "stream.stream",
            "stream": "datastream",
            "name": "stream"
        }
    ]
}
