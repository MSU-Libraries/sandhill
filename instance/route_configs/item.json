{
    "route": [
        "/<string:namespace>/<int:id>",
        "/<string:namespace>:<int:id>"
    ],
    "template": "item.html.j2",
    "data": [
        {
            "name": "item",
            "processor": "solr.query_record",
            "on_fail": 404,
            "params": {
                "q": "PID:\"{{ view_args.namespace }}:{{ view_args.id }}\"",
                "wt": "json"
            }
        },
        {
            "name": "metadata_conf",
            "processor": "file.load_matched_json",
            "on_fail": 501,
            "_comment": "TODO -- this fails for embargoed items since there is not etd.json and of course no fedora_data_stream_version",
            "_comment2": "TODO -- look at the mime_type field in the metadata_config, it allows for multiple values but this does not",
            "paths": [
                "metadata_configs/{{ view_args.namespace }}.json",
                "metadata_configs/{{ item.fedora_datastream_version_OBJ_MIMETYPE_ms | first | replace('/','_') }}.json"
            ]
        }
    ]
}

